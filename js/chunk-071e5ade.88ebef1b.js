(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-071e5ade"],{"078e":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("label",{attrs:{for:"videoURL"}},[t._v(t._s(this.nameUrl))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVideo,expression:"inputVideo"}],attrs:{type:"text",id:"videoURL",placeholder:"Ссылка на видео в Youtube"},domProps:{value:t.inputVideo},on:{input:[function(s){s.target.composing||(t.inputVideo=s.target.value)},t.pushData]}})])},i=[],o={data:function(){return{inputVideo:this.objVideo}},props:["nameUrl","objVideo"],methods:{pushData:function(){this.$emit("push-data",this.inputVideo)}}},n=o,c=(e("ff5d"),e("2877")),r=Object(c["a"])(n,a,i,!1,null,"66cae42e",null);s["a"]=r.exports},"1ca3":function(t,s,e){"use strict";e("ab6c")},"4b7e":function(t,s,e){"use strict";e("894c")},"504c":function(t,s,e){},5543:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.loading?e("Loader"):e("div",[e("div",{staticClass:"stock-edit__header"},[e("LangEdit",{attrs:{linkRu:"stockEditRu",linkUa:"stockEditUa"}}),e("div",{staticClass:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success stock__switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"stockCheck"},domProps:{checked:this.stock.status,checked:Array.isArray(t.status)?t._i(t.status,null)>-1:t.status},on:{change:[function(s){var e=t.status,a=s.target,i=!!a.checked;if(Array.isArray(e)){var o=null,n=t._i(e,o);a.checked?n<0&&(t.status=e.concat([o])):n>-1&&(t.status=e.slice(0,n).concat(e.slice(n+1)))}else t.status=i},t.pushStatus]}}),this.stock.status?e("label",{staticClass:"custom-control-label",attrs:{for:"stockCheck"}},[t._v("ВКЛ")]):e("label",{staticClass:"custom-control-label",attrs:{for:"stockCheck"}},[t._v("ВЫКЛ")])])],1),e("form",{attrs:{id:"stockEdit",action:""}},[e("div",{staticClass:"stockEdit__input-wrap"},["ru"===this.$attrs.lang?e("setName",{attrs:{objName:this.stock.name,name:"Название акции"},on:{"push-data":t.pushName}}):e("setName",{key:1,attrs:{objName:this.stock.nameUa,name:"Назва акції"},on:{"push-data":t.pushNameUa}}),e("setDate",{attrs:{objDate:this.stock.datePublic,nameDate:"Дата публикации"},on:{"push-data":t.pushDate}})],1),"ru"===this.$attrs.lang?e("setDescription",{attrs:{objDescription:this.stock.description,description:"Описание"},on:{"push-data":t.pushDescription}}):e("setDescription",{key:2,attrs:{objDescription:this.stock.descriptionUa,description:"Опис"},on:{"push-data":t.pushDescriptionUa}}),e("setMainImg",{attrs:{objMainImgText:"Главная картинка",objMainImg:this.stock.imgSRC,id:"mainImg"},on:{"remove-main-obj-img":t.removeStockImg,"push-main-obj-img":t.pushStockImg}}),e("setImgGallery",{attrs:{objId:+this.$attrs.id,objImgGallery:this.stock.gallery},on:{"push-img-gallery":t.pushGalleryStockImg,"remove-img-gallery":t.removeGalleryImg,"add-img-gallery":t.addImgStockGallery}}),"ru"===this.$attrs.lang?e("setVideo",{attrs:{nameUrl:"Ссылка на видео",objVideo:this.stock.videoURL},on:{"push-data":t.pushVideo}}):e("setVideo",{key:3,attrs:{nameUrl:"Посилання на відео",objVideo:this.stock.videoURLUa},on:{"push-data":t.pushVideoUa}}),"ru"===this.$attrs.lang?e("setSEO",{attrs:{objSEOURL:this.stock.seo.seoURL,objSEOTitle:this.stock.seo.seoTitle,objSEOWords:this.stock.seo.seoWords,objSEODescription:this.stock.seo.seoDescription},on:{"push-data":t.pushSEO}}):e("setSEO",{key:4,attrs:{objSEOURL:this.stock.seoUa.seoURL,objSEOTitle:this.stock.seoUa.seoTitle,objSEOWords:this.stock.seoUa.seoWords,objSEODescription:this.stock.seoUa.seoDescription},on:{"push-data":t.pushSEOUa}}),e("div",{staticClass:"edit-buttons"},[e("button",{staticClass:"btn-success banner-up__btn",attrs:{type:"submit",form:"stockEdit",disabled:this.disabled},on:{click:function(s){return s.preventDefault(),t.sendStockData.apply(null,arguments)}}},[t._v(" Сохранить ")]),e("router-link",{staticClass:"btn-primary",attrs:{tag:"button",to:{name:"stocks"}}},[t._v(" Вернуться ")])],1)],1),e("Toast",{attrs:{sending:this.sending,text:"Акция успешно сохранена"}})],1)},i=[],o=e("1da1"),n=e("5530"),c=(e("96cf"),e("b0c0"),e("a4d3"),e("e01a"),e("c740"),e("a434"),e("4de4"),e("99af"),e("0f79")),r=e("8628"),u=e("9d07"),l=e("34a4"),d=e("77cf"),h=e("3563"),p=e("a369"),m=e("c10a"),k=e("078e"),b=e("599d"),f=e("2f62"),g={data:function(){return{loading:!0,sending:!1,disabled:!0,status:this.status,stock:{},galleryDelete:[]}},components:{Loader:c["a"],Toast:u["a"],setName:l["a"],setDate:d["a"],setDescription:h["a"],setMainImg:p["a"],setImgGallery:m["a"],setVideo:k["a"],setSEO:b["a"],LangEdit:r["a"]},methods:Object(n["a"])(Object(n["a"])({},Object(f["c"])(["pushStockMainImg","pushStockGalleryImg","removeStockImgGallery"])),{},{pushStatus:function(){this.stock.status=this.status,this.disabled=!1},pushName:function(t){this.stock.name=t,this.disabled=!1},pushNameUa:function(t){this.stock.nameUa=t,this.disabled=!1},pushDate:function(t){this.stock.datePublic=t,this.disabled=!1},pushDescription:function(t){this.stock.description=t,this.disabled=!1},pushVideo:function(t){this.stock.videoURL=t,this.disabled=!1},pushSEO:function(t){this.stock.seo=t,this.disabled=!1},pushDescriptionUa:function(t){this.stock.descriptionUa=t,this.disabled=!1},pushVideoUa:function(t){this.stock.videoURLUa=t,this.disabled=!1},pushSEOUa:function(t){this.stock.seoUa=t,this.disabled=!1},addImgStockGallery:function(t){this.stock.gallery=t},sendStockData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,-1===t.allStocks.findIndex((function(s){return s.id===t.stock.id}))&&t.allStocks.push(t.stock),s.next=4,t.$store.dispatch("sendStock",t.stock);case 4:t.sending=!0,setTimeout((function(){t.sending=!1}),4e3),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),console.log(s.t0);case 11:0!==t.galleryDelete.length&&(t.removeStockImgGallery(t.galleryDelete),t.galleryDelete=[]);case 12:case"end":return s.stop()}}),s,null,[[0,8]])})))()},removeStockImg:function(){this.stock.imgSRC="https://solovero.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png",this.disabled=!1},pushStockImg:function(t){this.stock.mainImg=t,this.disabled=!1},pushGalleryStockImg:function(t){0===this.stock.gallery.length?this.stock.gallery.push({file:t.file,id:t.id}):this.stock.gallery.splice(t.index,1,{file:t.file,id:t.id,stockId:t.objId}),this.disabled=!1},removeGalleryImg:function(t){var s=this.stock.gallery.findIndex((function(s){return t.imgId===s.id}));this.galleryDelete.push(this.stock.gallery.filter((function(s){return s.id===t.imgId}))[0]),this.stock.gallery.splice(s,1),this.disabled=!1}}),computed:Object(f["b"])(["allStocks"]),mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var e;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$store.dispatch("fetchStocks",t.allStocks);case 2:return s.next=4,t.$store.getters.oneStock(+t.$attrs.id)[0];case 4:e=s.sent,t.stock=e,t.stock||(t.stock={id:+t.$attrs.id,date:"".concat((new Date).getDate(),".").concat((new Date).getMonth()+1,".").concat((new Date).getFullYear()),status:!0}),t.stock.seo||(t.stock.seo={}),t.stock.seoUa||(t.stock.seoUa={}),t.status||(t.status=t.stock.status),t.loading=!1;case 11:case"end":return s.stop()}}),s)})))()}},v=g,D=(e("1ca3"),e("2877")),y=Object(D["a"])(v,a,i,!1,null,"2fec43ba",null);s["default"]=y.exports},"77cf":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"date-public"},[e("label",{staticClass:"date-public__label",attrs:{for:"date"}},[t._v(t._s(this.nameDate))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputDate,expression:"inputDate"}],staticClass:"date-public__input",attrs:{type:"date",id:"date",placeholder:this.nameDate},domProps:{value:t.inputDate},on:{input:[function(s){s.target.composing||(t.inputDate=s.target.value)},t.pushData]}})])},i=[],o={data:function(){return{inputDate:this.objDate}},props:["nameDate","objDate"],methods:{pushData:function(){this.$emit("push-data",this.inputDate)}}},n=o,c=(e("4b7e"),e("2877")),r=Object(c["a"])(n,a,i,!1,null,"1a9f900f",null);s["a"]=r.exports},"894c":function(t,s,e){},ab6c:function(t,s,e){},ff5d:function(t,s,e){"use strict";e("504c")}}]);
//# sourceMappingURL=chunk-071e5ade.88ebef1b.js.map