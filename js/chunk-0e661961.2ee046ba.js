(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e661961"],{"0312":function(t,e,s){},"0f79":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"overlay"},[s("p",[t._v("Loading...")])])}],o=(s("48a9"),s("2877")),r={},i=Object(o["a"])(r,a,n,!1,null,"24d282e2",null);e["a"]=i.exports},"132b":function(t,e,s){"use strict";s("4deb")},"48a9":function(t,e,s){"use strict";s("0312")},"4deb":function(t,e,s){},"5b05":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",{staticClass:"main__title text-center stock__header-title"},[t._v("Список акций")]),s("div",{staticClass:"stock__header-btn"},[s("router-link",{staticClass:"btn-success",attrs:{tag:"button",to:{name:"stockEditRu",params:{id:(new Date).getTime(),lang:"ru"}}}},[t._v(" Создать акцию ")])],1),t.loading?s("Loader"):s("div",{staticClass:"stock__wrap"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-hover text-nowrap"},[s("thead",[s("tr",[s("th",[t._v("Название")]),s("th",[t._v("Дата создания")]),s("th",[t._v("Статус")])])]),s("tbody",t._l(this.allStocks,(function(e){return s("stockTable",{key:e.id,attrs:{stock:e},on:{showModal:t.showModalDelete}})})),1)])])]),t.showModal?s("modal",{attrs:{obj:this.stockDelete},on:{close:function(e){t.showModal=!1},delete:t.deleteStock}},[s("h3",{attrs:{slot:"header"},slot:"header"},[t._v("Удаление "+t._s(this.stockDelete.name))]),s("p",{attrs:{slot:"body"},slot:"body"},[t._v(" Вы уверены что хотите удалить акцию "+t._s(this.stockDelete.name)+"? ")])]):t._e(),s("Toast",{attrs:{sending:this.sending,text:"Акция успешно удалена"}})],1)},n=[],o=s("1da1"),r=s("5530"),i=(s("96cf"),s("4de4"),s("c740"),s("a434"),s("9d07")),c=s("0f79"),l=s("b18a"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t._v(t._s(this.stock.name))]),s("td",[t._v(t._s(this.stock.date))]),this.stock.status?s("td",[t._v("ВКЛ")]):s("td",[t._v("ВЫКЛ")]),s("td",[s("router-link",{staticClass:"stock-btn btn-success",attrs:{tag:"button",to:{name:"stockEditRu",params:{id:this.stock.id,lang:"ru"}}}},[t._v(" Ред ")])],1),s("td",[s("button",{staticClass:"btn-danger",on:{click:function(e){return e.preventDefault(),t.$emit("showModal",t.stock)}}},[t._v(" Удал ")])])])},u=[],f={props:["stock"]},h=f,v=s("2877"),b=Object(v["a"])(h,d,u,!1,null,null,null),m=b.exports,_=s("2f62"),k={data:function(){return{loading:!0,showModal:!1,sending:!1,stockDelete:{}}},components:{Loader:c["a"],Toast:i["a"],modal:l["a"],stockTable:m},methods:Object(r["a"])(Object(r["a"])({},Object(_["c"])(["removeStock"])),{},{showModalDelete:function(t){this.showModal=!0,this.stockDelete=t},deleteStock:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.allStocks.filter((function(e){return t.id!==e.id})),s.next=3,e.removeStock({stocks:a,stock:t});case 3:e.sending=!0,setTimeout((function(){e.sending=!1}),4e3),e.showModal=!1,n=e.allStocks.findIndex((function(e){return t.id===e.id})),e.allStocks.splice(n,1);case 8:case"end":return s.stop()}}),s)})))()}}),computed:Object(_["b"])(["allStocks"]),mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchStocks",t.allStocks);case 2:t.loading=!1;case 3:case"end":return e.stop()}}),e)})))()}},p=k,g=(s("f061"),Object(v["a"])(p,a,n,!1,null,"23b57667",null));e["default"]=g.exports},"9d07":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return this.sending?s("div",{staticClass:"toasts-top-right fixed",attrs:{id:"toastsContainerTopRight"}},[s("div",{staticClass:"toast bg-success fade show",attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true"}},[s("div",{staticClass:"toast-body"},[t._v(t._s(this.text))])])]):t._e()},n=[],o={props:["sending","text"]},r=o,i=s("2877"),c=Object(i["a"])(r,a,n,!1,null,null,null);e["a"]=c.exports},a434:function(t,e,s){"use strict";var a=s("23e7"),n=s("23cb"),o=s("a691"),r=s("50c4"),i=s("7b0b"),c=s("65f0"),l=s("8418"),d=s("1dde"),u=d("splice"),f=Math.max,h=Math.min,v=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var s,a,d,u,m,_,k=i(this),p=r(k.length),g=n(t,p),w=arguments.length;if(0===w?s=a=0:1===w?(s=0,a=p-g):(s=w-2,a=h(f(o(e),0),p-g)),p+s-a>v)throw TypeError(b);for(d=c(k,a),u=0;u<a;u++)m=g+u,m in k&&l(d,u,k[m]);if(d.length=a,s<a){for(u=g;u<p-a;u++)m=u+a,_=u+s,m in k?k[_]=k[m]:delete k[_];for(u=p;u>p-a+s;u--)delete k[u-1]}else if(s>a)for(u=p-a;u>g;u--)m=u+a-1,_=u+s-1,m in k?k[_]=k[m]:delete k[_];for(u=0;u<s;u++)k[u+g]=arguments[u+2];return k.length=p-a+s,d}})},a63b:function(t,e,s){},b18a:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"modal-template"}},[s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-container"},[s("div",{staticClass:"modal-header"},[t._t("header",(function(){return[t._v(" Удаление")]}))],2),s("div",{staticClass:"modal-body"},[t._t("body",(function(){return[t._v("Вы уверены что хотите удалить элемент?")]}))],2),s("div",{staticClass:"modal-footer"},[t._t("footer",(function(){return[s("button",{staticClass:"modal-default-button btn-danger",on:{click:function(e){return t.$emit("close")}}},[t._v(" Отмена ")]),s("button",{staticClass:"modal-default-button btn-success",on:{click:function(e){return t.$emit("delete",t.obj)}}},[t._v(" Ок ")])]}))],2)])])])])],1)},n=[],o={props:["obj"]},r=o,i=(s("132b"),s("2877")),c=Object(i["a"])(r,a,n,!1,null,"45b9ad64",null);e["a"]=c.exports},f061:function(t,e,s){"use strict";s("a63b")}}]);
//# sourceMappingURL=chunk-0e661961.2ee046ba.js.map