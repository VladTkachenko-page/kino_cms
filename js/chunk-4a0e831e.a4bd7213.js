(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a0e831e"],{"1f7f":function(a,e,t){},"80b8":function(a,e,t){"use strict";t.r(e);var l=function(){var a=this,e=a.$createElement,t=a._self._c||e;return a.loading?t("Loader"):t("div",[t("LangEdit",{attrs:{linkRu:"hallEditRu",linkUa:"hallEditUa"}}),t("form",{attrs:{id:"hallEdit",action:""}},["ru"===this.$attrs.lang?t("setName",{attrs:{objName:this.hall.name,name:"Номер зала"},on:{"push-data":a.pushName}}):t("setName",{key:1,attrs:{objName:this.hall.nameUa,name:"Номер залу"},on:{"push-data":a.pushNameUa}}),"ru"===this.$attrs.lang?t("setDescription",{attrs:{objDescription:this.hall.description,description:"Описание зала"},on:{"push-data":a.pushDescription}}):t("setDescription",{key:2,attrs:{objDescription:this.hall.descriptionUa,description:"Опис залу"},on:{"push-data":a.pushDescriptionUa}}),t("setMainImg",{attrs:{objMainImgText:"Схема зала",objMainImg:this.hall.imgSchemeSRC,id:"scheme"},on:{"remove-main-obj-img":a.removeHallSchemeImg,"push-main-obj-img":a.pushHallSchemeImg}}),t("setMainImg",{attrs:{objMainImgText:"Верхний баннер",objMainImg:this.hall.imgBannerSRC,id:"banner"},on:{"remove-main-obj-img":a.removeHallBannerImg,"push-main-obj-img":a.pushHallBannerImg}}),t("setImgGallery",{attrs:{objId:+this.$attrs.id,objImgGallery:this.hall.gallery},on:{"push-img-gallery":a.pushGalleryHallImg,"remove-img-gallery":a.removeGalleryImg,"add-img-gallery":a.addImgHallGallery}}),"ru"===this.$attrs.lang?t("setSEO",{attrs:{objSEOURL:this.hall.seo.seoURL,objSEOTitle:this.hall.seo.seoTitle,objSEOWords:this.hall.seo.seoWords,objSEODescription:this.hall.seo.seoDescription},on:{"push-data":a.pushSEO}}):t("setSEO",{key:3,attrs:{objSEOURL:this.hall.seoUa.seoURL,objSEOTitle:this.hall.seoUa.seoTitle,objSEOWords:this.hall.seoUa.seoWords,objSEODescription:this.hall.seoUa.seoDescription},on:{"push-data":a.pushSEOUa}}),t("div",{staticClass:"edit-buttons"},["ru"===this.$attrs.lang?t("router-link",{staticClass:"btn-success",attrs:{tag:"button",disabled:this.disabled,to:{name:"cinemaEditRu",params:{id:+this.$attrs.id,idHall:+this.$attrs.idHall,hall:this.hall,cinema:this.$attrs.cinema||this.cinema,disabled:!1,lang:"ru"}}}},[a._v(" Сохранить ")]):t("router-link",{staticClass:"btn-success",attrs:{tag:"button",disabled:this.disabled,to:{name:"cinemaEditUa",params:{id:+this.$attrs.id,idHall:+this.$attrs.idHall,hall:this.hall,cinema:this.$attrs.cinema||this.cinema,disabled:!1,lang:"ua"}}}},[a._v(" Сохранить ")]),"ru"===this.$attrs.lang?t("router-link",{staticClass:"btn-primary",attrs:{tag:"button",to:{name:"cinemaEditRu",params:{id:+this.$attrs.id,idHall:+this.$attrs.idHall,allHalls:this.hallsCopy,disabled:!1,lang:"ru"}}}},[a._v(" Вернуться ")]):t("router-link",{staticClass:"btn-primary",attrs:{tag:"button",to:{name:"cinemaEditUa",params:{id:+this.$attrs.id,idHall:+this.$attrs.idHall,allHalls:this.hallsCopy,disabled:!1,lang:"ua"}}}},[a._v(" Вернуться ")])],1)],1),t("Toast",{attrs:{sending:this.sending,text:"Зал успешно сохранен"}})],1)},s=[],i=t("1da1"),n=t("5530"),r=(t("96cf"),t("b0c0"),t("a4d3"),t("e01a"),t("d3b7"),t("3ca3"),t("ddb0"),t("2b3d"),t("a434"),t("c740"),t("4de4"),t("99af"),t("0f79")),h=t("8628"),o=t("9d07"),d=t("34a4"),c=t("3563"),m=t("a369"),u=t("c10a"),g=t("599d"),p=t("2f62"),b={data:function(){return{loading:!0,disabled:!0,sending:!1,hall:{},hallsCopy:{},galleryDelete:[]}},components:{Loader:r["a"],setName:d["a"],setDescription:c["a"],setMainImg:m["a"],setImgGallery:u["a"],setSEO:g["a"],Toast:o["a"],LangEdit:h["a"]},methods:Object(n["a"])(Object(n["a"])({},Object(p["c"])(["removeMainHallImg","pushHallMainImg","pushHallGalleryImg","removeHallImgGallery"])),{},{pushName:function(a){this.hall.name=a,this.disabled=!1},pushDescription:function(a){this.hall.description=a,this.disabled=!1},pushSEO:function(a){this.hall.seo=a,this.disabled=!1},pushNameUa:function(a){this.hall.nameUa=a,this.disabled=!1},pushDescriptionUa:function(a){this.hall.descriptionUa=a,this.disabled=!1},pushSEOUa:function(a){this.hall.seoUa=a,this.disabled=!1},addImgHallGallery:function(a){this.hall.gallery=a},sendHallData:function(){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.$store.dispatch("sendHall",a.hall);case 3:a.sending=!0,setTimeout((function(){a.sending=!1}),4e3),a.disabled=!0,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:0!==a.galleryDelete.length&&(a.removeHallImgGallery(a.galleryDelete),a.galleryDelete=[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},removeHallSchemeImg:function(){this.hall.imgSchemeSRC="https://solovero.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png",this.disabled=!1},removeHallBannerImg:function(){this.hall.imgBannerSRC="https://solovero.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png",this.disabled=!1},pushHallSchemeImg:function(a){this.hall.schemeImg=a,this.hall.imgSchemeSRC=URL.createObjectURL(a),this.disabled=!1},pushHallBannerImg:function(a){this.hall.bannerImg=a,this.hall.imgBannerSRC=URL.createObjectURL(a),this.disabled=!1},pushGalleryHallImg:function(a){0===this.hall.gallery.length?this.hall.gallery.push({file:a.file,id:a.id,cinemaId:a.objId,hallId:+this.$attrs.idHall}):this.hall.gallery.splice(a.index,1,{file:a.file,id:a.id,cinemaId:a.objId,hallId:+this.$attrs.idHall,imgSRC:a.imgSRC}),this.disabled=!1},removeGalleryImg:function(a){var e=this.hall.gallery.findIndex((function(e){return a.imgId===e.id}));this.galleryDelete.push(this.hall.gallery.filter((function(e){return e.id===a.imgId}))[0]),this.hall.gallery.splice(e,1),this.disabled=!1}}),computed:Object(p["b"])(["allCinemas"]),mounted:function(){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$store.dispatch("fetchCinemas",a.allCinemas);case 2:t=a.$attrs.cinema,a.cinema=t,a.$attrs.cinema||(a.cinema=a.allCinemas.filter((function(e){return e.id===+a.$attrs.id}))[0],a.cinema.halls||(a.cinema.halls={}),a.cinema.seo||(a.cinema.seo={})),t&&(a.hallsCopy=JSON.parse(JSON.stringify(a.cinema.halls))),a.hall=a.cinema.halls[+a.$attrs.idHall],a.hall||(a.hall={id:+a.$attrs.idHall,cinemaId:+a.$attrs.id,date:"".concat((new Date).getDate(),".").concat((new Date).getMonth()+1,".").concat((new Date).getFullYear())}),a.hall.seo||(a.hall.seo={}),a.hall.seoUa||(a.hall.seoUa={}),a.loading=!1;case 11:case"end":return e.stop()}}),e)})))()}},f=b,I=(t("f7eb"),t("2877")),y=Object(I["a"])(f,l,s,!1,null,"e49e2ea0",null);e["default"]=y.exports},f7eb:function(a,e,t){"use strict";t("1f7f")}}]);
//# sourceMappingURL=chunk-4a0e831e.a4bd7213.js.map