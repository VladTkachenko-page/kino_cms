(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f3f0ba2"],{"078e":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("label",{attrs:{for:"videoURL"}},[e._v(e._s(this.nameUrl))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputVideo,expression:"inputVideo"}],attrs:{type:"text",id:"videoURL",placeholder:"Ссылка на видео в Youtube"},domProps:{value:e.inputVideo},on:{input:[function(t){t.target.composing||(e.inputVideo=t.target.value)},e.pushData]}})])},a=[],n={data:function(){return{inputVideo:this.objVideo}},props:["nameUrl","objVideo"],methods:{pushData:function(){this.$emit("push-data",this.inputVideo)}}},l=n,c=(i("ff5d"),i("2877")),o=Object(c["a"])(l,s,a,!1,null,"66cae42e",null);t["a"]=o.exports},1121:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.loading?i("Loader"):i("div",[i("LangEdit",{attrs:{linkRu:"filmsEditRu",linkUa:"filmsEditUa"}}),i("form",{attrs:{id:"filmEdit",action:""}},["ru"===this.$attrs.lang?i("setName",{attrs:{objName:this.film.name,name:"Название фильма"},on:{"push-data":e.pushName}}):i("setName",{key:1,attrs:{objName:this.film.nameUa,name:"Назва фільму"},on:{"push-data":e.pushNameUa}}),"ru"===this.$attrs.lang?i("setDescription",{attrs:{objDescription:this.film.description,description:"Описание"},on:{"push-data":e.pushDescription}}):i("setDescription",{key:2,attrs:{objDescription:this.film.descriptionUa,description:"Опис"},on:{"push-data":e.pushDescriptionUa}}),"ru"===this.$attrs.lang?i("setMainImg",{attrs:{objMainImgText:"Главная картинка",objMainImg:this.film.imgSRC,id:"mainImg"},on:{"remove-main-obj-img":e.removeFilmImg,"push-main-obj-img":e.pushFilmImg}}):i("setMainImg",{key:3,attrs:{objMainImgText:"Головна картинка",objMainImg:this.film.imgSRCUa,id:"mainImgUa"},on:{"remove-main-obj-img":e.removeFilmImgUa,"push-main-obj-img":e.pushFilmImgUa}}),i("setImgGallery",{attrs:{objId:+this.$attrs.id,objImgGallery:this.film.gallery},on:{"push-img-gallery":e.pushGalleryFilmImg,"remove-img-gallery":e.removeGalleryImg,"add-img-gallery":e.addImgFilmGallery}}),"ru"===this.$attrs.lang?i("setVideo",{attrs:{nameUrl:"Ссылка на трейлер",objVideo:this.film.videoURL},on:{"push-data":e.pushVideo}}):i("setVideo",{key:4,attrs:{nameUrl:"Посилання на трейлер",objVideo:this.film.videoURLUa},on:{"push-data":e.pushVideoUa}}),i("div",{staticClass:"film-type"},[i("strong",[e._v("Тип кино")]),i("div",{staticClass:"film-type__checkbox custom-control custom-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedType,expression:"checkedType"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"3d",value:"3d"},domProps:{checked:Array.isArray(e.checkedType)?e._i(e.checkedType,"3d")>-1:e.checkedType},on:{change:[function(t){var i=e.checkedType,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n="3d",l=e._i(i,n);s.checked?l<0&&(e.checkedType=i.concat([n])):l>-1&&(e.checkedType=i.slice(0,l).concat(i.slice(l+1)))}else e.checkedType=a},e.pushChecked]}}),i("label",{staticClass:"custom-control-label",attrs:{for:"3d"}},[e._v("3D")])]),i("div",{staticClass:"film-type__checkbox custom-control custom-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedType,expression:"checkedType"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"2d",value:"2d"},domProps:{checked:Array.isArray(e.checkedType)?e._i(e.checkedType,"2d")>-1:e.checkedType},on:{change:[function(t){var i=e.checkedType,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n="2d",l=e._i(i,n);s.checked?l<0&&(e.checkedType=i.concat([n])):l>-1&&(e.checkedType=i.slice(0,l).concat(i.slice(l+1)))}else e.checkedType=a},e.pushChecked]}}),i("label",{staticClass:"custom-control-label",attrs:{for:"2d"}},[e._v("2D")])]),i("div",{staticClass:"film-type__checkbox custom-control custom-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedType,expression:"checkedType"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"IMAX",value:"IMAX"},domProps:{checked:Array.isArray(e.checkedType)?e._i(e.checkedType,"IMAX")>-1:e.checkedType},on:{change:[function(t){var i=e.checkedType,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n="IMAX",l=e._i(i,n);s.checked?l<0&&(e.checkedType=i.concat([n])):l>-1&&(e.checkedType=i.slice(0,l).concat(i.slice(l+1)))}else e.checkedType=a},e.pushChecked]}}),i("label",{staticClass:"custom-control-label",attrs:{for:"IMAX"}},[e._v("IMAX")])])]),"ru"===this.$attrs.lang?i("setSEO",{attrs:{objSEOURL:this.film.seo.seoURL,objSEOTitle:this.film.seo.seoTitle,objSEOWords:this.film.seo.seoWords,objSEODescription:this.film.seo.seoDescription},on:{"push-data":e.pushSEO}}):i("setSEO",{key:5,attrs:{objSEOURL:this.film.seoUa.seoURL,objSEOTitle:this.film.seoUa.seoTitle,objSEOWords:this.film.seoUa.seoWords,objSEODescription:this.film.seoUa.seoDescription},on:{"push-data":e.pushSEOUa}}),i("div",{staticClass:"edit-buttons"},[i("button",{staticClass:"btn-success banner-up__btn",attrs:{type:"submit",form:"filmEdit",disabled:this.disabled},on:{click:function(t){return t.preventDefault(),e.sendFilmData.apply(null,arguments)}}},[e._v(" Сохранить ")]),i("button",{staticClass:"btn-secondary banner-up__btn",attrs:{type:"submit",form:"filmEdit"},on:{click:function(t){return t.preventDefault(),e.returnFilmData.apply(null,arguments)}}},[e._v(" Вернуть базовую версию ")]),i("router-link",{staticClass:"btn-primary",attrs:{tag:"button",to:{name:"films"}}},[e._v(" Вернуться ")])],1)],1),i("Toast",{attrs:{sending:this.sending,text:"Фильм успешно сохранен"}})],1)},a=[],n=i("1da1"),l=i("5530"),c=(i("96cf"),i("b0c0"),i("a4d3"),i("e01a"),i("c740"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),i("a434"),i("4de4"),i("0f79")),o=i("8628"),r=i("9d07"),m=i("34a4"),d=i("3563"),u=i("a369"),h=i("c10a"),p=i("078e"),f=i("599d"),g=i("2f62"),b={data:function(){return{links:[{title:"Русский",url:"filmsEditRu",lang:"ru",exact:!0},{title:"Украинский",url:"filmsEditUa",lang:"ua"}],loading:!0,sending:!1,disabled:!0,film:{},filmCopy:{},galleryDelete:[],checkedType:[]}},components:{Loader:c["a"],LangEdit:o["a"],Toast:r["a"],setName:m["a"],setDescription:d["a"],setMainImg:u["a"],setImgGallery:h["a"],setVideo:p["a"],setSEO:f["a"]},methods:Object(l["a"])(Object(l["a"])({},Object(g["c"])(["pushFilmMainImg","pushFilmGalleryImg","removeFilmImgGallery"])),{},{pushName:function(e){this.film.name=e,this.disabled=!1},pushNameUa:function(e){this.film.nameUa=e,this.disabled=!1},pushDescription:function(e){this.film.description=e,this.disabled=!1},pushDescriptionUa:function(e){this.film.descriptionUa=e,this.disabled=!1},pushVideo:function(e){this.film.videoURL=e,this.disabled=!1},pushVideoUa:function(e){this.film.videoURLUa=e,this.disabled=!1},pushChecked:function(){this.film.typeFilm=this.checkedType,this.disabled=!1},pushSEO:function(e){this.film.seo=e,this.disabled=!1},pushSEOUa:function(e){this.film.seoUa=e,this.disabled=!1},addImgFilmGallery:function(e){this.film.gallery=e},sendFilmData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$attrs.comming){t.next=15;break}return t.prev=1,-1===e.allFilmsComming.findIndex((function(t){return t.id===e.film.id}))&&e.allFilmsComming.push(e.film),t.next=5,e.$store.dispatch("sendFilmComming",e.film);case 5:e.sending=!0,setTimeout((function(){e.sending=!1}),4e3),e.disabled=!0,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:t.next=26;break;case 15:return t.prev=15,-1===e.allFilms.findIndex((function(t){return t.id===e.film.id}))&&e.allFilms.push(e.film),t.next=19,e.$store.dispatch("sendFilm",e.film);case 19:e.sending=!0,setTimeout((function(){e.sending=!1}),4e3),t.next=26;break;case 23:t.prev=23,t.t1=t["catch"](15),console.log(t.t1);case 26:0!==e.galleryDelete.length&&(e.removeFilmImgGallery(e.galleryDelete),e.galleryDelete=[]);case 27:case"end":return t.stop()}}),t,null,[[1,10],[15,23]])})))()},removeFilmImg:function(){this.film.imgSRC="https://solovero.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png",this.disabled=!1},removeFilmImgUa:function(){this.film.imgSRCUa="https://solovero.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png",this.disabled=!1},pushFilmImg:function(e){this.film.mainImg=e,this.film.imgSRC=URL.createObjectURL(e),this.disabled=!1},pushFilmImgUa:function(e){this.film.mainImgUa=e,this.film.imgSRCUa=URL.createObjectURL(e),this.disabled=!1},pushGalleryFilmImg:function(e){0===this.film.gallery.length?this.film.gallery.push({file:e.file,id:e.id}):this.film.gallery.splice(e.index,1,{file:e.file,id:e.id,filmId:e.objId}),this.disabled=!1},removeGalleryImg:function(e){var t=this.film.gallery.findIndex((function(t){return e.imgId===t.id}));this.galleryDelete.push(this.film.gallery.filter((function(t){return t.id===e.imgId}))[0]),this.film.gallery.splice(t,1),this.disabled=!1},returnFilmData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.film=JSON.parse(JSON.stringify(e.filmCopy)),t.next=4,e.$forceUpdate();case 4:e.checkedType=e.film.typeFilm,e.galleryDelete=[],e.loading=!1,e.disabled=!1;case 8:case"end":return t.stop()}}),t)})))()}}),computed:Object(g["b"])(["allFilms","allFilmsComming"]),mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchFilms",e.allFilms);case 2:return t.next=4,e.$store.dispatch("fetchFilmsComming",e.allFilmsComming);case 4:if(!e.$attrs.comming){t.next=13;break}return t.next=7,e.$store.getters.oneFilmComming(+e.$attrs.id)[0];case 7:i=t.sent,e.film=i,e.film||(e.film={id:+e.$attrs.id,comming:!0}),i&&(e.filmCopy=JSON.parse(JSON.stringify(i))),t.next=19;break;case 13:return t.next=15,e.$store.getters.oneFilm(+e.$attrs.id)[0];case 15:s=t.sent,e.film=s,e.film||(e.film={id:+e.$attrs.id,comming:!1}),s&&(e.filmCopy=JSON.parse(JSON.stringify(s)));case 19:e.film.typeFilm&&(e.checkedType=e.film.typeFilm),e.film.seo||(e.film.seo={}),e.film.seoUa||(e.film.seoUa={}),e.filmCopy.seo||(e.filmCopy.seo={}),e.filmCopy.typeFilm||(e.filmCopy.typeFilm=e.checkedType),e.loading=!1;case 25:case"end":return t.stop()}}),t)})))()}},y=b,k=(i("1e42"),i("2877")),v=Object(k["a"])(y,s,a,!1,null,"63823ce2",null);t["default"]=v.exports},"1e42":function(e,t,i){"use strict";i("cbc9")},"504c":function(e,t,i){},cbc9:function(e,t,i){},ff5d:function(e,t,i){"use strict";i("504c")}}]);
//# sourceMappingURL=chunk-5f3f0ba2.0430315c.js.map