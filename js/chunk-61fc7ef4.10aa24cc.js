(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61fc7ef4"],{"0312":function(t,e,i){},"0f79":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"overlay"},[i("p",[t._v("Loading...")])])}],a=(i("48a9"),i("2877")),l={},r=Object(a["a"])(l,s,n,!1,null,"24d282e2",null);e["a"]=r.exports},"132b":function(t,e,i){"use strict";i("4deb")},"25ec":function(t,e,i){},3803:function(t,e,i){},"48a9":function(t,e,i){"use strict";i("0312")},"4deb":function(t,e,i){},"79bd":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h2",{staticClass:"main__title text-center films__title"},[t._v("Список текущих фильмов")]),t.loading?i("Loader"):i("div",{staticClass:"films-wrap"},[t._l(this.allFilms,(function(e){return i("filmsCard",{key:e.id,attrs:{films:t.allFilms,film:e},on:{delete:t.filmDelete}})})),i("router-link",{staticClass:"btn-success",attrs:{tag:"button",to:{name:"filmsEditRu",params:{id:(new Date).getTime(),comming:!1,lang:"ru"}}}},[t._v(" Добавить фильм ")])],2),i("h2",{staticClass:"main__title text-center films__title"},[t._v(" Список фильмов которые покажут скоро ")]),t.loading?i("Loader"):i("div",{staticClass:"films-wrap"},[t._l(this.allFilmsComming,(function(e){return i("filmsCard",{key:e.id,attrs:{films:t.allFilmsComming,film:e},on:{delete:t.filmDelete}})})),i("router-link",{staticClass:"btn-success",attrs:{tag:"button",to:{name:"filmsEditRu",params:{id:(new Date).getTime(),comming:!0,lang:"ru"}}}},[t._v(" Добавить фильм ")])],2),i("Toast",{attrs:{sending:this.sending,text:"Фильм успешно удален"}})],1)},n=[],a=i("1da1"),l=i("5530"),r=(i("96cf"),i("4de4"),i("c740"),i("a434"),i("9d07")),o=i("0f79"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-link",{staticClass:"films-card",attrs:{tag:"div",to:{name:"filmsEditRu",params:{id:this.film.id,comming:this.film.comming,lang:"ru"}}}},[this.films.length>1?i("div",{staticClass:"film-card__delete"},[i("button",{staticClass:"film-card__delete-btn",on:{click:function(e){e.preventDefault(),t.showModal=!0}}},[t._v("×")])]):t._e(),i("div",{staticClass:"films-card__img"},[this.film.imgSRC?i("img",{attrs:{src:this.film.imgSRC,alt:""}}):i("img",{attrs:{src:"https://solovero.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png",alt:""}})]),i("p",[t._v(t._s(this.film.name))])]),t.showModal?i("modal",{attrs:{obj:this.film},on:{close:function(e){t.showModal=!1},delete:t.filmDelete}},[i("h3",{attrs:{slot:"header"},slot:"header"},[t._v("Удаление "+t._s(this.film.name))]),i("p",{attrs:{slot:"body"},slot:"body"},[t._v(" Вы уверены что хотите удалить фильм "+t._s(this.film.name)+"? ")])]):t._e()],1)},m=[],d=i("b18a"),u={data:function(){return{showModal:!1}},props:["film","films"],components:{modal:d["a"]},methods:{filmDelete:function(t){this.$emit("delete",t),this.showModal=!1}}},f=u,h=(i("c280"),i("2877")),g=Object(h["a"])(f,c,m,!1,null,"01ebc1d0",null),v=g.exports,b=i("2f62"),_={data:function(){return{loading:!0,sending:!1}},components:{filmsCard:v,Loader:o["a"],Toast:r["a"]},methods:Object(l["a"])(Object(l["a"])({},Object(b["c"])(["removeFilm","removeFilmComming"])),{},{filmDelete:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var s,n,a,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!t.comming){i.next=10;break}return s=e.allFilmsComming.filter((function(e){return t.id!==e.id})),i.next=4,e.removeFilmComming({films:s,film:t});case 4:e.sending=!0,setTimeout((function(){e.sending=!1}),4e3),n=e.allFilmsComming.findIndex((function(e){return t.id===e.id})),e.allFilmsComming.splice(n,1),i.next=17;break;case 10:return a=e.allFilms.filter((function(e){return t.id!==e.id})),i.next=13,e.removeFilm({films:a,film:t});case 13:e.sending=!0,setTimeout((function(){e.sending=!1}),4e3),l=e.allFilms.findIndex((function(e){return t.id===e.id})),e.allFilms.splice(l,1);case 17:case"end":return i.stop()}}),i)})))()}}),computed:Object(b["b"])(["allFilms","allFilmsComming"]),mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchFilms",t.allFilms);case 2:return e.next=4,t.$store.dispatch("fetchFilmsComming",t.allFilmsComming);case 4:t.loading=!1;case 5:case"end":return e.stop()}}),e)})))()}},p=_,C=(i("9ebe"),Object(h["a"])(p,s,n,!1,null,"8ba8e692",null));e["default"]=C.exports},"9d07":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return this.sending?i("div",{staticClass:"toasts-top-right fixed",attrs:{id:"toastsContainerTopRight"}},[i("div",{staticClass:"toast bg-success fade show",attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true"}},[i("div",{staticClass:"toast-body"},[t._v(t._s(this.text))])])]):t._e()},n=[],a={props:["sending","text"]},l=a,r=i("2877"),o=Object(r["a"])(l,s,n,!1,null,null,null);e["a"]=o.exports},"9ebe":function(t,e,i){"use strict";i("3803")},a434:function(t,e,i){"use strict";var s=i("23e7"),n=i("23cb"),a=i("a691"),l=i("50c4"),r=i("7b0b"),o=i("65f0"),c=i("8418"),m=i("1dde"),d=m("splice"),u=Math.max,f=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var i,s,m,d,v,b,_=r(this),p=l(_.length),C=n(t,p),w=arguments.length;if(0===w?i=s=0:1===w?(i=0,s=p-C):(i=w-2,s=f(u(a(e),0),p-C)),p+i-s>h)throw TypeError(g);for(m=o(_,s),d=0;d<s;d++)v=C+d,v in _&&c(m,d,_[v]);if(m.length=s,i<s){for(d=C;d<p-s;d++)v=d+s,b=d+i,v in _?_[b]=_[v]:delete _[b];for(d=p;d>p-s+i;d--)delete _[d-1]}else if(i>s)for(d=p-s;d>C;d--)v=d+s-1,b=d+i-1,v in _?_[b]=_[v]:delete _[b];for(d=0;d<i;d++)_[d+C]=arguments[d+2];return _.length=p-s+i,m}})},b18a:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"modal-template"}},[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-container"},[i("div",{staticClass:"modal-header"},[t._t("header",(function(){return[t._v(" Удаление")]}))],2),i("div",{staticClass:"modal-body"},[t._t("body",(function(){return[t._v("Вы уверены что хотите удалить элемент?")]}))],2),i("div",{staticClass:"modal-footer"},[t._t("footer",(function(){return[i("button",{staticClass:"modal-default-button btn-danger",on:{click:function(e){return t.$emit("close")}}},[t._v(" Отмена ")]),i("button",{staticClass:"modal-default-button btn-success",on:{click:function(e){return t.$emit("delete",t.obj)}}},[t._v(" Ок ")])]}))],2)])])])])],1)},n=[],a={props:["obj"]},l=a,r=(i("132b"),i("2877")),o=Object(r["a"])(l,s,n,!1,null,"45b9ad64",null);e["a"]=o.exports},c280:function(t,e,i){"use strict";i("25ec")}}]);
//# sourceMappingURL=chunk-61fc7ef4.10aa24cc.js.map