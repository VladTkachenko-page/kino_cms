(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91e2238a"],{"078e":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("label",{attrs:{for:"videoURL"}},[e._v(e._s(this.nameUrl))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputVideo,expression:"inputVideo"}],attrs:{type:"text",id:"videoURL",placeholder:"Ссылка на видео в Youtube"},domProps:{value:e.inputVideo},on:{input:[function(t){t.target.composing||(e.inputVideo=t.target.value)},e.pushData]}})])},n=[],i={data:function(){return{inputVideo:this.objVideo}},props:["nameUrl","objVideo"],methods:{pushData:function(){this.$emit("push-data",this.inputVideo)}}},o=i,r=(s("ff5d"),s("2877")),u=Object(r["a"])(o,a,n,!1,null,"66cae42e",null);t["a"]=u.exports},"4b7e":function(e,t,s){"use strict";s("894c")},"504c":function(e,t,s){},"77cf":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"date-public"},[s("label",{staticClass:"date-public__label",attrs:{for:"date"}},[e._v(e._s(this.nameDate))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputDate,expression:"inputDate"}],staticClass:"date-public__input",attrs:{type:"date",id:"date",placeholder:this.nameDate},domProps:{value:e.inputDate},on:{input:[function(t){t.target.composing||(e.inputDate=t.target.value)},e.pushData]}})])},n=[],i={data:function(){return{inputDate:this.objDate}},props:["nameDate","objDate"],methods:{pushData:function(){this.$emit("push-data",this.inputDate)}}},o=i,r=(s("4b7e"),s("2877")),u=Object(r["a"])(o,a,n,!1,null,"1a9f900f",null);t["a"]=u.exports},"894c":function(e,t,s){},9605:function(e,t,s){},d4bc:function(e,t,s){"use strict";s("9605")},e680:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loading?s("Loader"):s("div",[s("div",{staticClass:"news-edit__header"},[s("LangEdit",{attrs:{linkRu:"newsEditRu",linkUa:"newsEditUa"}}),s("div",{staticClass:"\n        custom-control\n        custom-switch\n        custom-switch-off-danger\n        custom-switch-on-success\n        news__switch\n      "},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"status"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"newsCheck"},domProps:{checked:this.news.status,checked:Array.isArray(e.status)?e._i(e.status,null)>-1:e.status},on:{change:[function(t){var s=e.status,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,o=e._i(s,i);a.checked?o<0&&(e.status=s.concat([i])):o>-1&&(e.status=s.slice(0,o).concat(s.slice(o+1)))}else e.status=n},e.pushStatus]}}),this.news.status?s("label",{staticClass:"custom-control-label",attrs:{for:"newsCheck"}},[e._v("ВКЛ")]):s("label",{staticClass:"custom-control-label",attrs:{for:"newsCheck"}},[e._v("ВЫКЛ")])])],1),s("form",{attrs:{id:"newsEdit",action:""}},[s("div",{staticClass:"newsEdit__input-wrap"},["ru"===this.$attrs.lang?s("setName",{attrs:{objName:this.news.name,name:"Название новости"},on:{"push-data":e.pushName}}):s("setName",{key:1,attrs:{objName:this.news.nameUa,name:"Назва новини"},on:{"push-data":e.pushNameUa}}),s("setDate",{attrs:{objDate:this.news.datePublic,nameDate:"Дата публикации"},on:{"push-data":e.pushDate}})],1),"ru"===this.$attrs.lang?s("setDescription",{attrs:{objDescription:this.news.description,description:"Описание"},on:{"push-data":e.pushDescription}}):s("setDescription",{key:2,attrs:{objDescription:this.news.descriptionUa,description:"Опис"},on:{"push-data":e.pushDescriptionUa}}),s("setMainImg",{attrs:{objMainImgText:"Главная картинка",objMainImg:this.news.imgSRC,id:"mainImg"},on:{"remove-main-obj-img":e.removeNewsImg,"push-main-obj-img":e.pushNewsImg}}),s("setImgGallery",{attrs:{objId:+this.$attrs.id,objImgGallery:this.news.gallery},on:{"push-img-gallery":e.pushGalleryNewsImg,"remove-img-gallery":e.removeGalleryImg,"add-img-gallery":e.addImgNewsGallery}}),"ru"===this.$attrs.lang?s("setVideo",{attrs:{nameUrl:"Ссылка на видео",objVideo:this.news.videoURL},on:{"push-data":e.pushVideo}}):s("setVideo",{key:3,attrs:{nameUrl:"Посилання на відео",objVideo:this.news.videoURLUa},on:{"push-data":e.pushVideoUa}}),"ru"===this.$attrs.lang?s("setSEO",{attrs:{objSEOURL:this.news.seo.seoURL,objSEOTitle:this.news.seo.seoTitle,objSEOWords:this.news.seo.seoWords,objSEODescription:this.news.seo.seoDescription},on:{"push-data":e.pushSEO}}):s("setSEO",{key:4,attrs:{objSEOURL:this.news.seoUa.seoURL,objSEOTitle:this.news.seoUa.seoTitle,objSEOWords:this.news.seoUa.seoWords,objSEODescription:this.news.seoUa.seoDescription},on:{"push-data":e.pushSEOUa}}),s("div",{staticClass:"edit-buttons"},[s("button",{staticClass:"btn-success banner-up__btn",attrs:{type:"submit",form:"newsEdit",disabled:this.disabled},on:{click:function(t){return t.preventDefault(),e.sendNewsData.apply(null,arguments)}}},[e._v(" Сохранить ")]),s("router-link",{staticClass:"btn-primary",attrs:{tag:"button",to:{name:"news"}}},[e._v(" Вернуться ")])],1)],1),s("Toast",{attrs:{sending:this.sending,text:"Новость успешно сохранена"}})],1)},n=[],i=s("1da1"),o=s("5530"),r=(s("96cf"),s("b0c0"),s("a4d3"),s("e01a"),s("c740"),s("a434"),s("4de4"),s("99af"),s("0f79")),u=s("8628"),l=s("9d07"),c=s("34a4"),d=s("77cf"),h=s("3563"),p=s("a369"),m=s("c10a"),w=s("078e"),f=s("599d"),b=s("2f62"),g={data:function(){return{loading:!0,sending:!1,disabled:!0,status:this.status,news:{},galleryDelete:[]}},components:{Loader:r["a"],Toast:l["a"],setName:c["a"],setDate:d["a"],setDescription:h["a"],setMainImg:p["a"],setImgGallery:m["a"],setVideo:w["a"],setSEO:f["a"],LangEdit:u["a"]},methods:Object(o["a"])(Object(o["a"])({},Object(b["c"])(["pushNewsMainImg","pushNewsGalleryImg","removeNewsImgGallery"])),{},{pushStatus:function(){this.news.status=this.status,this.disabled=!1},pushName:function(e){this.news.name=e,this.disabled=!1},pushNameUa:function(e){this.news.nameUa=e,this.disabled=!1},pushDate:function(e){this.news.datePublic=e,this.disabled=!1},pushDescription:function(e){this.news.description=e,this.disabled=!1},pushVideo:function(e){this.news.videoURL=e,this.disabled=!1},pushSEO:function(e){this.news.seo=e,this.disabled=!1},pushDescriptionUa:function(e){this.news.descriptionUa=e,this.disabled=!1},pushVideoUa:function(e){this.news.videoURLUa=e,this.disabled=!1},pushSEOUa:function(e){this.news.seoUa=e,this.disabled=!1},addImgNewsGallery:function(e){this.news.gallery=e},sendNewsData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,-1===e.allNews.findIndex((function(t){return t.id===e.news.id}))&&e.allNews.push(e.news),t.next=4,e.$store.dispatch("sendNews",e.news);case 4:e.sending=!0,setTimeout((function(){e.sending=!1}),4e3),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:0!==e.galleryDelete.length&&(e.removeNewsImgGallery(e.galleryDelete),e.galleryDelete=[]);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},removeNewsImg:function(){this.news.imgSRC="https://solovero.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png",this.disabled=!1},pushNewsImg:function(e){this.news.mainImg=e,this.disabled=!1},pushGalleryNewsImg:function(e){0===this.news.gallery.length?this.news.gallery.push({file:e.file,id:e.id}):this.news.gallery.splice(e.index,1,{file:e.file,id:e.id,newsId:e.objId}),this.disabled=!1},removeGalleryImg:function(e){var t=this.news.gallery.findIndex((function(t){return e.imgId===t.id}));this.galleryDelete.push(this.news.gallery.filter((function(t){return t.id===e.imgId}))[0]),this.news.gallery.splice(t,1),this.disabled=!1}}),computed:Object(b["b"])(["allNews"]),mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchNews",e.allNews);case 2:return t.next=4,e.$store.getters.oneNews(+e.$attrs.id)[0];case 4:s=t.sent,e.news=s,e.news||(e.news={id:+e.$attrs.id,date:"".concat((new Date).getDate(),".").concat((new Date).getMonth()+1,".").concat((new Date).getFullYear()),status:!0}),e.news.seo||(e.news.seo={}),e.news.seoUa||(e.news.seoUa={}),e.status||(e.status=e.news.status),e.loading=!1;case 11:case"end":return t.stop()}}),t)})))()}},v=g,D=(s("d4bc"),s("2877")),y=Object(D["a"])(v,a,n,!1,null,"26f5f9be",null);t["default"]=y.exports},ff5d:function(e,t,s){"use strict";s("504c")}}]);
//# sourceMappingURL=chunk-91e2238a.5884f9d7.js.map