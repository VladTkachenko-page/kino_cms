(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c3190aee"],{1056:function(e,t,a){},"68df":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticClass:"main__title text-center banner__title"},[e._v("На главной верх")]),e.loading?a("Loader"):a("BannerCardLayout",{attrs:{cardsUp:e.allUpCards,for:"upCardForm",speed:this.speedUp,disabledUp:this.disabledUp},on:{"send-banner":e.sendBanner,changeSpeed:e.changeSpeedUp}},[e._l(e.allUpCards,(function(t){return a("BannerCardUp",{key:t.id,attrs:{card:t},on:{"push-data":e.pushDataUpCards,"push-img":e.pushImgUpCards,"remove-card":e.removeUpCard}})})),5!==this.allUpCards.length?a("button",{staticClass:"btn-success",on:{click:e.addBannerCard1}},[e._v(" Добавить фото ")]):e._e()],2),a("h2",{staticClass:"main__title text-center banner__title"},[e._v(" На главной Новости Акции ")]),e.loading?a("Loader"):a("BannerCardLayout",{attrs:{cardsDown:e.allDownCards,for:"newsCardForm",disabledDown:this.disabledDown,speed:this.speedDown},on:{"send-banner":e.sendBanner,changeSpeed:e.changeSpeedDown}},[e._l(e.allDownCards,(function(t){return a("BannerCardDown",{key:t.id,attrs:{card:t},on:{"push-data":e.pushDataDownCards,"push-img":e.pushImgDownCards,"remove-card":e.removeDownCard}})})),5!==this.allDownCards.length?a("button",{staticClass:"btn-success",on:{click:e.addBannerCard2}},[e._v(" Добавить фото ")]):e._e()],2),a("Toast",{attrs:{sending:this.sending,text:"Данные успешно сохранены"}})],1)},n=[],i=a("1da1"),r=a("5530"),d=(a("96cf"),a("c740"),a("4de4"),a("a434"),a("0f79")),c=a("9d07"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"banner-up"},[a("div",{staticClass:"banner-up__header"},[a("div",{staticClass:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success banner-up__switch"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"switch1",checked:""},on:{change:function(t){e.isVisible=!e.isVisible}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"switch1"}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"banner__wrap"},[a("p",{staticClass:"banner-subtitle"},[e._v("Размер: 1000х190")]),a("div",{staticClass:"banner-up__cards"},[e._t("default")],2),a("div",{staticClass:"banner__footer"},[a("div",{staticClass:"banner__select"},[a("span",{staticClass:"banner__select-text"},[e._v("Скорость вращения")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{name:"banner",id:"banner-select",selected:this.speed},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?a:a[0]},e.changeSpeed]}},[a("option",{attrs:{value:"1"}},[e._v("1c")]),a("option",{attrs:{value:"2"}},[e._v("2c")]),a("option",{attrs:{value:"3"}},[e._v("3c")]),a("option",{attrs:{value:"4"}},[e._v("4c")]),a("option",{attrs:{value:"5"}},[e._v("5c")])])]),a("button",{staticClass:"btn-success banner-up__btn",attrs:{type:"submit",form:this.for,disabled:this.disabledUp||this.disabledDown},on:{click:function(t){return t.preventDefault(),e.sendCards.apply(null,arguments)}}},[e._v(" Сохранить ")])])])])},o=[],u={data:function(){return{isVisible:!0,selected:this.speed}},components:{},props:["for","disabledUp","disabledDown","speed"],methods:{changeSpeed:function(){this.$emit("changeSpeed")},sendCards:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("send-banner",{for:e.for,speed:e.selected});case 1:case"end":return t.stop()}}),t)})))()}}},p=u,h=(a("816a"),a("2877")),f=Object(h["a"])(p,l,o,!1,null,"6c75c3d6",null),m=f.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"banner-card"},[a("div",{staticClass:"banner-card__delete"},[a("button",{staticClass:"banner-card__delete-btn",on:{click:e.removeCard}},[e._v("×")])]),a("div",{staticClass:"banner-card__img input__wrapper"},[a("input",{ref:"myFiles",staticClass:"input input__file",attrs:{name:"file",type:"file",id:"input__file"+this.card.id,accept:".jpg, .jpeg, .png"},on:{change:e.previewFiles}}),this.card.imgSRC?a("label",{staticClass:"input__file-button",attrs:{for:"input__file"+this.card.id}},[0===e.files.length?a("img",{staticClass:"input__file-img",attrs:{src:this.card.imgSRC}}):e._e(),0!==e.files.length?a("img",{staticClass:"input__file-img",attrs:{src:e.src}}):e._e()]):e._e(),this.card.imgSRC?e._e():a("label",{staticClass:"input__file-button",attrs:{for:"input__file"+this.card.id}},[0===e.files.length?a("img",{staticClass:"input__file-img",attrs:{src:"https://solovero.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png",alt:""}}):e._e(),0!==e.files.length?a("img",{staticClass:"input__file-img",attrs:{src:e.src}}):e._e()])]),a("form",{staticClass:"banner-card__form",attrs:{action:"",id:"upCardForm"}},[a("div",{staticClass:"banner-card__form-input"},[a("label",{attrs:{for:"url"}},[e._v("URL:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],attrs:{type:"text",name:"url",placeholder:"URL"},domProps:{value:e.url},on:{input:[function(t){t.target.composing||(e.url=t.target.value)},e.pushData]}})]),a("div",{staticClass:"banner-card__form-input"},[a("label",{attrs:{for:"text"}},[e._v("Текст:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],attrs:{type:"text",name:"text",placeholder:"Текст"},domProps:{value:e.text},on:{input:[function(t){t.target.composing||(e.text=t.target.value)},e.pushData]}})])])])},b=[],g=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),{data:function(){return{files:[],src:"",text:this.card.text,url:this.card.url}},props:["card"],methods:{previewFiles:function(){this.files=this.$refs.myFiles.files;var e={id:this.card.id,img:this.files[0],imgSRC:this.card.imgSRC};this.$emit("push-img",e),this.src=URL.createObjectURL(this.card.img),e.id=this.card.id},pushData:function(){var e={id:this.card.id,url:this.url,text:this.text};this.$emit("push-data",e)},removeCard:function(){var e=this.card.id;this.$emit("remove-card",e)}}}),v=g,C=(a("a713"),Object(h["a"])(v,_,b,!1,null,null,null)),w=C.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"banner-card"},[a("div",{staticClass:"banner-card__delete"},[a("button",{staticClass:"banner-card__delete-btn",on:{click:e.removeCard}},[e._v(" × ")])]),a("div",{staticClass:"banner-card__img input__wrapper"},[a("input",{ref:"myFiles",staticClass:"input input__file",attrs:{name:"file",type:"file",id:"input__file"+this.card.id,accept:".jpg, .jpeg, .png"},on:{change:e.previewFiles}}),this.card.imgSRC?a("label",{staticClass:"input__file-button",attrs:{for:"input__file"+this.card.id}},[0===e.files.length?a("img",{staticClass:"input__file-img",attrs:{src:this.card.imgSRC}}):e._e(),0!==e.files.length?a("img",{staticClass:"input__file-img",attrs:{src:e.src}}):e._e()]):e._e(),this.card.imgSRC?e._e():a("label",{staticClass:"input__file-button",attrs:{for:"input__file"+this.card.id}},[0===e.files.length?a("img",{staticClass:"input__file-img",attrs:{src:"https://solovero.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png",alt:""}}):e._e(),0!==e.files.length?a("img",{staticClass:"input__file-img",attrs:{src:e.src}}):e._e()])]),a("form",{staticClass:"banner-card__form",attrs:{action:"",id:"newsCardForm"}},[a("div",{staticClass:"banner-card__form-input"},[a("label",{attrs:{for:"url"}},[e._v("URL:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],attrs:{type:"text",name:"url",placeholder:"URL"},domProps:{value:e.url},on:{input:[function(t){t.target.composing||(e.url=t.target.value)},e.pushData]}})])])])},D=[],U={data:function(){return{files:[],src:"",url:this.card.url}},props:["card"],methods:{previewFiles:function(){this.files=this.$refs.myFiles.files;var e={id:this.card.id,img:this.files[0],imgSRC:this.card.imgSRC};this.$emit("push-img",e),this.src=URL.createObjectURL(this.card.img),e.id=this.card.id},pushData:function(){var e={id:this.card.id,url:this.url};this.$emit("push-data",e)},removeCard:function(){var e=this.card.id;this.$emit("remove-card",e)}}},B=U,j=Object(h["a"])(B,x,D,!1,null,"c247b63e",null),R=j.exports,O=a("2f62"),k={data:function(){return{loading:!0,sending:!1,deleteMainObj:[],deleteNewsObj:[],disabledUp:!0,disabledDown:!0}},computed:Object(O["b"])(["allUpCards","allDownCards","speedUp","speedDown"]),components:{BannerCardLayout:m,BannerCardUp:w,BannerCardDown:R,Loader:d["a"],Toast:c["a"]},methods:Object(r["a"])(Object(r["a"])({},Object(O["c"])(["addBannerCardUp","addBannerCardDown"])),{},{changeSpeedUp:function(){this.disabledUp=!1},changeSpeedDown:function(){this.disabledDown=!1},addBannerCard1:function(){this.addBannerCardUp({id:(new Date).getTime()})},addBannerCard2:function(){this.addBannerCardDown({id:(new Date).getTime()})},removeBanner:function(e,t,a){var s=e.findIndex((function(e){return a===e.id}));t.push(e.filter((function(e){return e.id===a}))[0]),e.splice(s,1)},removeUpCard:function(e){this.removeBanner(this.allUpCards,this.deleteMainObj,e),this.disabledUp=!1},removeDownCard:function(e){this.removeBanner(this.allDownCards,this.deleteNewsObj,e),this.disabledDown=!1},pushDataBanner:function(e,t){var a=e.findIndex((function(e){return t.id===e.id}));e[a].url=t.url,t.text&&(e[a].text=t.text)},pushDataUpCards:function(e){this.pushDataBanner(this.allUpCards,e),this.disabledUp=!1},pushDataDownCards:function(e){this.pushDataBanner(this.allDownCards,e),this.disabledDown=!1},pushImgBanner:function(e,t){var a=e.findIndex((function(e){return t.id===e.id}));e[a].img=t.img},pushImgUpCards:function(e){this.pushImgBanner(this.allUpCards,e),this.disabledUp=!1},pushImgDownCards:function(e){this.pushImgBanner(this.allDownCards,e),this.disabledDown=!1},sendBanner:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("upCardForm"!==e.for){a.next=18;break}return a.prev=1,a.next=4,t.$store.dispatch("pushMainBannerCard",{banner:t.allUpCards,speed:e.speed});case 4:t.disabledUp=!0,t.sending=!0,setTimeout((function(){t.sending=!1}),4e3),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](1),console.log(a.t0);case 12:if(0===t.deleteMainObj.length){a.next=16;break}return a.next=15,t.$store.dispatch("removeMainBannerCard",t.deleteMainObj);case 15:t.deleteMainObj=[];case 16:a.next=34;break;case 18:if("newsCardForm"!==e.for){a.next=34;break}return a.prev=19,a.next=22,t.$store.dispatch("pushNewsBannerCard",{banner:t.allDownCards,speed:e.speed});case 22:t.disabledDown=!0,t.sending=!0,setTimeout((function(){t.sending=!1}),4e3),a.next=30;break;case 27:a.prev=27,a.t1=a["catch"](19),console.log(a.t1);case 30:if(0===t.deleteNewsObj.length){a.next=34;break}return a.next=33,t.$store.dispatch("removeNewsBannerCard",t.deleteMainObj);case 33:t.deleteNewsObj=[];case 34:case"end":return a.stop()}}),a,null,[[1,9],[19,27]])})))()}}),mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchUpCards");case 2:return t.next=4,e.$store.dispatch("fetchSpeedUp",e.speedUp);case 4:return t.next=6,e.$store.dispatch("fetchSpeedDown",e.speedDown);case 6:return t.next=8,e.$store.dispatch("fetchDownCards");case 8:e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()}},$=k,y=Object(h["a"])($,s,n,!1,null,"01a71c1c",null);t["default"]=y.exports},"816a":function(e,t,a){"use strict";a("ad78")},a434:function(e,t,a){"use strict";var s=a("23e7"),n=a("23cb"),i=a("a691"),r=a("50c4"),d=a("7b0b"),c=a("65f0"),l=a("8418"),o=a("1dde"),u=o("splice"),p=Math.max,h=Math.min,f=9007199254740991,m="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var a,s,o,u,_,b,g=d(this),v=r(g.length),C=n(e,v),w=arguments.length;if(0===w?a=s=0:1===w?(a=0,s=v-C):(a=w-2,s=h(p(i(t),0),v-C)),v+a-s>f)throw TypeError(m);for(o=c(g,s),u=0;u<s;u++)_=C+u,_ in g&&l(o,u,g[_]);if(o.length=s,a<s){for(u=C;u<v-s;u++)_=u+s,b=u+a,_ in g?g[b]=g[_]:delete g[b];for(u=v;u>v-s+a;u--)delete g[u-1]}else if(a>s)for(u=v-s;u>C;u--)_=u+s-1,b=u+a-1,_ in g?g[b]=g[_]:delete g[b];for(u=0;u<a;u++)g[u+C]=arguments[u+2];return g.length=v-s+a,o}})},a713:function(e,t,a){"use strict";a("1056")},ad78:function(e,t,a){}}]);
//# sourceMappingURL=chunk-c3190aee.5d7df5ef.js.map